local Players = game:GetService("Players")

local player = Players.LocalPlayer

if game.PlaceId ~= 17080219162 then

    player:Kick("ذا مو ماب قيم سكني | LemoHub")

    return 

end

local Players = game:GetService("Players")

local player = Players.LocalPlayer

local whitelist = {    
    "1haidan",
  "rip_zoro12744",
"ggghytrv_4",
  "Mt3gb",
  "ahmedali0307",
  "Ahmed_Not9",
  "0v93",
"Hatred_a3",
"Fu231",
     "DEMENT3DX",
"shadowformerks",
    "Iowtoya", 

    "iowtoya", 

    "m85m", 

    "rektifn", 

    "E3QOO", 

    "Shadowformerks", 

    "ccpb"

}

local function isWhitelisted(username)

    for _, allowed in ipairs(whitelist) do

        if string.lower(username) == string.lower(allowed) then

            return true

        end

    end

    return false

end

if not isWhitelisted(player.Name) then

    player:Kick("حساب غير مدعوم | LemonHub")

    return

end

Workspace.FallenPartsDestroyHeight = 0 / 0

 wait(1)

local UserInputService = game:GetService("UserInputService")

local RunService = game:GetService("RunService")

local playerGui = player:WaitForChild("PlayerGui")

local screenGui = Instance.new("ScreenGui")

screenGui.Name = "LemonHubv3"

screenGui.ResetOnSpawn = false

screenGui.Parent = playerGui

local mainFrame = Instance.new("Frame")

mainFrame.Size = UDim2.new(0, 250, 0, 320)

mainFrame.Position = UDim2.new(0.5, -125, 0.5, -160)

mainFrame.AnchorPoint = Vector2.new(0.5, 0.5)

mainFrame.BackgroundColor3 = Color3.fromRGB(0,0,0)

mainFrame.BackgroundTransparency = 0.2

mainFrame.Parent = screenGui

local frameCorner = Instance.new("UICorner")

frameCorner.CornerRadius = UDim.new(0,15)

frameCorner.Parent = mainFrame

local title = Instance.new("TextLabel")

title.Size = UDim2.new(1,0,0,35)

title.BackgroundTransparency = 1

title.Text = "LemonHub v3"

title.TextColor3 = Color3.fromRGB(255,255,255)

title.TextScaled = true

title.Font = Enum.Font.GothamBold

title.Parent = mainFrame

local usernameBox = Instance.new("TextBox")

usernameBox.Size = UDim2.new(0.9,0,0,25)

usernameBox.Position = UDim2.new(0.05,0,0,45)

usernameBox.BackgroundColor3 = Color3.fromRGB(20,20,20)

usernameBox.TextColor3 = Color3.fromRGB(255,255,255)

usernameBox.PlaceholderText = "وش اسمه؟ "

usernameBox.ClearTextOnFocus = false

usernameBox.Font = Enum.Font.Gotham

usernameBox.TextScaled = true

usernameBox.Parent = mainFrame

local function createButton(name, y)

    local btn = Instance.new("TextButton")

    btn.Size = UDim2.new(0.9,0,0,25)

    btn.Position = UDim2.new(0.05,0,0,y)

    btn.BackgroundColor3 = Color3.fromRGB(30,30,30)

    btn.TextColor3 = Color3.fromRGB(255,255,255)

    btn.Text = name

    btn.Font = Enum.Font.GothamBold

    btn.TextScaled = true

    btn.Parent = mainFrame

    local btnCorner = Instance.new("UICorner")

    btnCorner.CornerRadius = UDim.new(0,10)

    btnCorner.Parent = btn

    return btn

end

local pullButton = createButton("سحب", 80)

local killButton = createButton("قتل", 115)

local foidButton = createButton("فويد", 150)

local teleportButton = createButton("تنقل", 185)

local viewButton = createButton("مشاهده", 220)

local antiAfkButton = createButton("مضاد افك", 255)

local antiKillButton = createButton("مضاد قتل", 290)

local function enableDragging(frame)

    local dragging = false

    local dragInput, dragStart, startPos

    local function update(input)

        local delta = input.Position - dragStart

        frame.Position = UDim2.new(startPos.X.Scale, startPos.X.Offset + delta.X, startPos.Y.Scale, startPos.Y.Offset + delta.Y)

    end

    frame.InputBegan:Connect(function(input)

        if input.UserInputType == Enum.UserInputType.MouseButton1 or input.UserInputType == Enum.UserInputType.Touch then

            dragging = true

            dragStart = input.Position

            startPos = frame.Position

            input.Changed:Connect(function()

                if input.UserInputState == Enum.UserInputState.End then

                    dragging = false

                end

            end)

        end

    end)

    frame.InputChanged:Connect(function(input)

        if input.UserInputType == Enum.UserInputType.MouseMovement or input.UserInputType == Enum.UserInputType.Touch then

            dragInput = input

        end

    end)

    UserInputService.InputChanged:Connect(function(input)

        if input == dragInput and dragging then

            update(input)

        end

    end)

end

enableDragging(mainFrame)

local guiVisible = true

local function toggleGui()

    guiVisible = not guiVisible

    screenGui.Enabled = guiVisible

end

UserInputService.InputBegan:Connect(function(input, gameProcessed)

    if gameProcessed then return end

    if input.KeyCode == Enum.KeyCode.L then

        toggleGui()

    end

end)

local smallGui = Instance.new("ScreenGui")

smallGui.Name = "LemonHubToggle"

smallGui.ResetOnSpawn = false

smallGui.Parent = playerGui

local toggleButton = Instance.new("TextButton")

toggleButton.Size = UDim2.new(0,35,0,35)

toggleButton.Position = UDim2.new(1,-45,1,-45)

toggleButton.BackgroundColor3 = Color3.fromRGB(40,40,40)

toggleButton.TextColor3 = Color3.fromRGB(255,255,255)

toggleButton.Text = "L"

toggleButton.TextScaled = true

toggleButton.Font = Enum.Font.GothamBold

toggleButton.Parent = smallGui

local toggleCorner = Instance.new("UICorner")

toggleCorner.CornerRadius = UDim.new(0,10)

toggleCorner.Parent = toggleButton

enableDragging(toggleButton)

toggleButton.MouseButton1Click:Connect(toggleGui)

local function findTarget()

    local inputText = string.lower(usernameBox.Text)

    for _, plr in ipairs(Players:GetPlayers()) do

        if string.find(string.lower(plr.Name), inputText) or string.find(string.lower(plr.DisplayName), inputText) then

            return plr

        end

    end

    return nil

end

local function getTool()

    local backpack = player:WaitForChild("Backpack")

    local tool = backpack:FindFirstChild("Normal")

    if tool then

        tool.Parent = player.Character

        return tool

    end

    return player.Character:FindFirstChild("Normal")

end

local remote = game:GetService("ReplicatedStorage"):WaitForChild("Framework"):WaitForChild("Network"):WaitForChild("HandcuffRemote")

pullButton.MouseButton1Click:Connect(function()

    local target = findTarget()

    if not target or not target.Character then return end

    local tool = getTool()

    if tool then

        remote:InvokeServer(tool, target.Character)

    end

end)

killButton.MouseButton1Click:Connect(function()

    local target = findTarget()

    if not target or not target.Character then return end

    local tool = getTool()

    if not tool then return end

    local hrp = player.Character:WaitForChild("HumanoidRootPart")

    local originalCFrame = hrp.CFrame

    remote:InvokeServer(tool, target.Character)

    task.wait(0.2)

    hrp.CFrame = CFrame.new(279.303, -915.413, 168.403)

    task.wait(0.3)

    remote:InvokeServer(tool, target.Character)

    task.wait(0.4)

    hrp.CFrame = originalCFrame

end)

foidButton.MouseButton1Click:Connect(function()

    local target = findTarget()

    if not target or not target.Character then return end

    local tool = getTool()

    if not tool then return end

    local hrp = player.Character:WaitForChild("HumanoidRootPart")

    local originalCFrame = hrp.CFrame

    remote:InvokeServer(tool, target.Character)

    task.wait(0.2)

    hrp.CFrame = CFrame.new(-2338071.75, 21599260, -769617.562, -0.887405515, -0.0953957215, 0.451011211, 8.69690764e-10, 0.978354335, 0.206936792, -0.460989654, 0.183636859, -0.868197024)

    task.wait(0.3)

    remote:InvokeServer(tool, target.Character)

    task.wait(0.4)

    hrp.CFrame = originalCFrame

end)

teleportButton.MouseButton1Click:Connect(function()

    local target = findTarget()

    if target and target.Character then

        local hrp = player.Character:WaitForChild("HumanoidRootPart")

        hrp.CFrame = target.Character:WaitForChild("HumanoidRootPart").CFrame

    end

end)

local cameraFollowing = false

local camera = workspace.CurrentCamera

viewButton.MouseButton1Click:Connect(function()

    local target = findTarget()

    if not target or not target.Character then return end

    if not cameraFollowing then

        camera.CameraSubject = target.Character:WaitForChild("Humanoid")

        cameraFollowing = true

    else

        camera.CameraSubject = player.Character:WaitForChild("Humanoid")

        cameraFollowing = false

    end

end)

antiAfkButton.MouseButton1Click:Connect(function()

    local VirtualUser = game:GetService('VirtualUser')

    player.Idled:Connect(function()

        VirtualUser:CaptureController()

        VirtualUser:ClickButton2(Vector2.new())

    end)

    game:GetService("StarterGui"):SetCore("SendNotification", {

        Title = "Hey!",

        Text = "مضاد افك مفعل✅",

        Button1 = "أخفاء",

        Duration = 5

    })

end)

antiKillButton.MouseButton1Click:Connect(function()

    workspace.FallenPartsDestroyHeight = 0/0

    game:GetService("StarterGui"):SetCore("SendNotification", {

        Title = "Hey!",

        Text = "مضاد قتل مفعل✅",

        Button1 = "أخفاء",

        Duration = 5

    })

end)

-- FPS Display top-right

local fpsGui = Instance.new("ScreenGui")

fpsGui.Name = "FPSDisplay"

fpsGui.ResetOnSpawn = false

fpsGui.Parent = playerGui

local fpsLabel = Instance.new("TextLabel")

fpsLabel.Size = UDim2.new(0,100,0,25)

fpsLabel.Position = UDim2.new(1,-110,0,10)

fpsLabel.BackgroundTransparency = 1

fpsLabel.TextColor3 = Color3.fromRGB(255,255,255)

fpsLabel.TextScaled = true

fpsLabel.Font = Enum.Font.GothamBold

fpsLabel.Text = "FPS: 0"

fpsLabel.Parent = fpsGui

local frameCount = 0

local elapsed = 0

local updateInterval = 2

RunService.RenderStepped:Connect(function(dt)

    frameCount += 1

    elapsed += dt

    if elapsed >= updateInterval then

        fpsLabel.Text = "FPS: "..math.floor(frameCount / elapsed)

        frameCount = 0

        elapsed = 0

    end

end)

local Players = game:GetService("Players")

local StarterGui = game:GetService("StarterGui")

local ADMINS = {W1DRK=true, Kingme9a=true}

local function notify(msg)

	StarterGui:SetCore("SendNotification", {Title="Hey!", Text=msg, Duration=5})end

-- Check current players

local found=false

for _,p in ipairs(Players:GetPlayers()) do

	if ADMINS[p.Name] then found=true end

end

notify(found and "⚠️ادمن موجود في سيرفر⚠️" or "مافي ادمن✅")

-- Listen for join

Players.PlayerAdded:Connect(function(p)

	if ADMINS[p.Name] then notify("⚠️ادمن دخل السيرفر⚠️") end

end)

-- LocalScript in StarterPlayer > StarterPlayerScripts



local Players = game:GetService("Players")

local ReplicatedStorage = game:GetService("ReplicatedStorage")

local player = Players.LocalPlayer

-- إنشاء ScreenGui داخل StarterGui (سيتم نسخه تلقائياً إلى PlayerGui)

local screenGui = Instance.new("ScreenGui")

screenGui.Name = "TextGui"

screenGui.ResetOnSpawn = false -- مهم حتى لا يختفي عند الموت

screenGui.Parent = player:WaitForChild("PlayerGui")

-- إنشاء TextBox

local textBox = Instance.new("TextBox")

textBox.Name = "TextBox" -- ✅ تغيير الاسم

textBox.Size = UDim2.new(0, 200, 0, 30)

textBox.Position = UDim2.new(0, 10, 0, 10)

textBox.PlaceholderText = "اكتب هنا..."

textBox.BackgroundColor3 = Color3.fromRGB(0, 0, 0)

textBox.BackgroundTransparency = 0.3

textBox.TextColor3 = Color3.fromRGB(255, 255, 255)

textBox.TextXAlignment = Enum.TextXAlignment.Left

textBox.ClearTextOnFocus = true

textBox.Font = Enum.Font.SourceSans

textBox.TextSize = 18

textBox.Parent = screenGui

-- إضافة زوايا مدورة

Instance.new("UICorner", textBox).CornerRadius = UDim.new(0, 6)

-- 🟢 وظيفة إرسال النص عند الضغط على إنتر

textBox.FocusLost:Connect(function(enterPressed)

	if not enterPressed then return end	

	local backpack = player:WaitForChild("Backpack")

	local sign = backpack:FindFirstChild("Sign") or player.Character:FindFirstChild("Sign")

	if sign then

		sign.Parent = player.Character -- تجهيز الأداة

		

		-- إرسال النص إلى السيرفر

		local args = { sign, textBox.Text }

		ReplicatedStorage.Framework.Network.UpdateSign:FireServer(unpack(args))

	end

end)


-- LocalScript in StarterPlayerScripts

local Players = game:GetService("Players")
local UserInputService = game:GetService("UserInputService")
local player = Players.LocalPlayer

-- Create ScreenGui for main teleport GUI
local screenGui = Instance.new("ScreenGui")
screenGui.Name = "TeleportGUI"
screenGui.ResetOnSpawn = false
screenGui.Parent = player:WaitForChild("PlayerGui")

-- Main frame (centered)
local mainFrame = Instance.new("Frame")
mainFrame.Size = UDim2.new(0, 400, 0, 50)
mainFrame.Position = UDim2.new(0.5, -200, 0.1, 0)
mainFrame.BackgroundColor3 = Color3.fromRGB(20, 20, 20)
mainFrame.BackgroundTransparency = 0.2
mainFrame.Visible = false -- start hidden
mainFrame.Parent = screenGui

-- Rounded corners
local corner = Instance.new("UICorner")
corner.CornerRadius = UDim.new(0, 8)
corner.Parent = mainFrame

-- Make frame draggable
local function enableDragging(frame)
    local dragging, dragInput, dragStart, startPos
    local function update(input)
        local delta = input.Position - dragStart
        frame.Position = UDim2.new(startPos.X.Scale, startPos.X.Offset + delta.X,
                                   startPos.Y.Scale, startPos.Y.Offset + delta.Y)
    end
    frame.InputBegan:Connect(function(input)
        if input.UserInputType == Enum.UserInputType.MouseButton1 or
           input.UserInputType == Enum.UserInputType.Touch then
            dragging = true
            dragStart = input.Position
            startPos = frame.Position
            input.Changed:Connect(function()
                if input.UserInputState == Enum.UserInputState.End then
                    dragging = false
                end
            end)
        end
    end)
    frame.InputChanged:Connect(function(input)
        if input.UserInputType == Enum.UserInputType.MouseMovement or
           input.UserInputType == Enum.UserInputType.Touch then
            dragInput = input
        end
    end)
    UserInputService.InputChanged:Connect(function(input)
        if input == dragInput and dragging then
            update(input)
        end
    end)
end
enableDragging(mainFrame)

-- Teleport helper function
local function getHRP()
    local character = player.Character
    if character and character:FindFirstChild("HumanoidRootPart") then
        return character.HumanoidRootPart
    end
end

-- Create teleport buttons
local function createButton(name, positionX, cf)
    local button = Instance.new("TextButton")
    button.Size = UDim2.new(0, 90, 1, 0)
    button.Position = UDim2.new(positionX, 5, 0, 0)
    button.BackgroundColor3 = Color3.fromRGB(40, 40, 40)
    button.TextColor3 = Color3.fromRGB(255, 255, 255)
    button.Text = name
    button.Font = Enum.Font.SourceSansBold
    button.TextSize = 18
    button.Parent = mainFrame

    local btnCorner = Instance.new("UICorner")
    btnCorner.CornerRadius = UDim.new(0, 6)
    btnCorner.Parent = button

    button.MouseButton1Click:Connect(function()
        local hrp = getHRP()
        if hrp then hrp.CFrame = cf end
    end)
end

-- CFrames table
local cframes = {
    ["بدايه"] = CFrame.new(257.512787, 8.3040123, 110.829781, -0.999462366, 3.58744536e-08, -0.032786157, 3.88868955e-08, 1, -9.12438338e-08, 0.032786157, -9.24697332e-08, -0.999462366),
    ["فوق 1"] = CFrame.new(243.351089, 163.638504, -90.5451355, -0.999919295, 3.55999341e-09, -0.0127055431, 3.51507135e-09, 1, 3.55796215e-09, 0.0127055431, 3.5130141e-09, -0.999919295),
    ["عشب"] = CFrame.new(188.716919, 34.3515091, 61.8591003, -0.834032834, -9.75880088e-09, -0.551714838, -1.67010139e-08, 1, 7.55896501e-09, 0.551714838, 1.55186228e-08, -0.834032834),
    ["لوحة"] = CFrame.new(334.484833, 4.16418743, 443.84259, -0.965681732, -2.41917975e-09, -0.259728312, 6.2285781e-09, 1, -3.24724105e-08, 0.259728312, -3.29757484e-08, -0.965681732)
}

-- Create buttons
local posX = 0
for name, cf in pairs(cframes) do
    createButton(name, posX, cf)
    posX += 0.25
end

-- Toggle GUI with K key
local guiVisible = false
local function toggleGui()
    guiVisible = not guiVisible
    mainFrame.Visible = guiVisible
end

UserInputService.InputBegan:Connect(function(input, gameProcessed)
    if gameProcessed then return end
    if input.KeyCode == Enum.KeyCode.K then
        toggleGui()
    end
end)

-- Small button for mobile users
local smallButtonGui = Instance.new("ScreenGui")
smallButtonGui.Name = "ToggleButtonGUI"
smallButtonGui.ResetOnSpawn = false
smallButtonGui.Parent = player:WaitForChild("PlayerGui")

local smallButton = Instance.new("TextButton")
smallButton.Size = UDim2.new(0, 40, 0, 40)
smallButton.Position = UDim2.new(1, -50, 0.1, 0)
smallButton.BackgroundColor3 = Color3.fromRGB(40, 40, 40)
smallButton.TextColor3 = Color3.fromRGB(255, 255, 255)
smallButton.Text = "K"
smallButton.Font = Enum.Font.SourceSansBold
smallButton.TextSize = 18
smallButton.Parent = smallButtonGui

local smallCorner = Instance.new("UICorner")
smallCorner.CornerRadius = UDim.new(0, 6)
smallCorner.Parent = smallButton

-- Make small button draggable
enableDragging(smallButton)

-- Click small button = toggle GUI (like pressing K)
smallButton.MouseButton1Click:Connect(toggleGui)




  -- AUTO HANDCUFF GUIIUUUUU⚠️⚠️
-- LocalScript (StarterGui)
local Players = game:GetService("Players")

local RS = game:GetService("ReplicatedStorage")

local WS = game:GetService("Workspace")

local UIS = game:GetService("UserInputService")

local LP = Players.LocalPlayer

local PG = LP:WaitForChild("PlayerGui")

local Remote = RS:FindFirstChild("Framework") and RS.Framework:FindFirstChild("Network") and RS.Framework.Network:FindFirstChild("HandcuffRemote")

local Gui = Instance.new("ScreenGui", PG)

Gui.Name = "HandcuffGUI"

Gui.ResetOnSpawn = false

local Frame = Instance.new("Frame", Gui)

Frame.Size = UDim2.new(0, 200, 0, 200)

Frame.Position = UDim2.new(0.4, 0, 0.4, 0)

Frame.BackgroundColor3 = Color3.fromRGB(0, 0, 0)

Frame.Active, Frame.Draggable = true, true

Instance.new("UICorner", Frame).CornerRadius = UDim.new(0, 8)

local Title = Instance.new("TextLabel", Frame)

Title.Size = UDim2.new(1, 0, 0, 25)

Title.Text = "اوتو كلبشه"

Title.BackgroundTransparency = 1

Title.TextColor3 = Color3.new(1, 1, 1)

Title.TextScaled = true

local Box = Instance.new("TextBox", Frame)

Box.Size = UDim2.new(1, -10, 0, 30)

Box.Position = UDim2.new(0, 5, 0, 30)

Box.PlaceholderText = "اكتب بداية الاسم"

Box.BackgroundColor3 = Color3.fromRGB(20, 20, 20)

Box.TextColor3 = Color3.new(1, 1, 1)

Box.ClearTextOnFocus = false

Instance.new("UICorner", Box).CornerRadius = UDim.new(0, 6)

local AutoBtn = Instance.new("TextButton", Frame)

AutoBtn.Size = UDim2.new(1, -10, 0, 30)

AutoBtn.Position = UDim2.new(0, 5, 0, 65)

AutoBtn.BackgroundColor3 = Color3.fromRGB(35, 35, 35)

AutoBtn.TextColor3 = Color3.new(1, 1, 1)

AutoBtn.Text = "سحب تلقائي: إيقاف"

Instance.new("UICorner", AutoBtn).CornerRadius = UDim.new(0, 6)

local KillBtn = Instance.new("TextButton", Frame)

KillBtn.Size = UDim2.new(1, -10, 0, 30)

KillBtn.Position = UDim2.new(0, 5, 0, 105)

KillBtn.BackgroundColor3 = Color3.fromRGB(55, 0, 0)

KillBtn.TextColor3 = Color3.new(1, 1, 1)

KillBtn.Text = "قتل تلقائي: إيقاف"

Instance.new("UICorner", KillBtn).CornerRadius = UDim.new(0, 6)

local AntiBangBtn = Instance.new("TextButton", Frame)

AntiBangBtn.Size = UDim2.new(1, -10, 0, 30)

AntiBangBtn.Position = UDim2.new(0, 5, 0, 145)

AntiBangBtn.BackgroundColor3 = Color3.fromRGB(0, 0, 0)

AntiBangBtn.TextColor3 = Color3.new(1, 1, 1)

AntiBangBtn.Text = "مضاد بانغ: إيقاف"

Instance.new("UICorner", AntiBangBtn).CornerRadius = UDim.new(0, 6)

local SmallBtnGui = Instance.new("ScreenGui", PG)

SmallBtnGui.ResetOnSpawn = false

local SmallBtn = Instance.new("TextButton", SmallBtnGui)

SmallBtn.Size = UDim2.new(0, 50, 0, 50)

SmallBtn.Position = UDim2.new(0.85, 0, 0.05, 0)

SmallBtn.Text = "Z"

SmallBtn.BackgroundColor3 = Color3.fromRGB(0, 0, 0)

SmallBtn.TextColor3 = Color3.new(1, 1, 1)

SmallBtn.TextScaled = true

SmallBtn.Active, SmallBtn.Draggable = true, true

Instance.new("UICorner", SmallBtn).CornerRadius = UDim.new(0, 6)

local Target, Auto, KillLoop, CharConn, HealthConn

local GuiVisible = false

Frame.Visible = GuiVisible

local KillPos = CFrame.new(243.666275,-21015.7148,-15.5977278,0.4223,-0.0439,-0.9053,0,0.9988,-0.0484,0.9064,0.0204,0.4218)

local SavedTargetName = nil

local SavedAuto = false

local SavedKill = false

local AntiBang = false

local TP_Lock = false

local TP_Cooldown = false

local function startsWith(s,p)

    if not s or not p then return false end

    return s:sub(1,#p):lower() == p:lower()

end

local function findPlayer(part)

    if not part then return nil end

    part = part:lower()

    for _, p in ipairs(Players:GetPlayers()) do

        if startsWith(p.Name, part) or startsWith(p.DisplayName, part) then

            return p

        end

    end

    return nil

end

local function getTool()

    local bp = LP:FindFirstChild("Backpack")

    if not bp then return nil end

    local t = bp:FindFirstChild("Normal")

    if t and LP.Character then

        t.Parent = LP.Character

        return t

    end

    return LP.Character and LP.Character:FindFirstChild("Normal")

end

local function safeInvoke(c)

    if not Remote then return end

    pcall(function()

        Remote:InvokeServer(getTool(), c)

    end)

end

local function onChar(c)

    if HealthConn then HealthConn:Disconnect() HealthConn = nil end

    local hum = c:WaitForChild("Humanoid")

    if Auto then

        if hum.Health >= hum.MaxHealth then

            safeInvoke(c)

        else

            HealthConn = hum.HealthChanged:Connect(function(h)

                if Auto and h >= hum.MaxHealth then safeInvoke(c) if HealthConn then HealthConn:Disconnect() HealthConn = nil end end

            end)

        end

    end

end

local function clearSavedTarget()

    SavedTargetName = nil

    SavedAuto = false

    SavedKill = false

end

local function setTarget(p)

    if CharConn then CharConn:Disconnect() CharConn = nil end

    if HealthConn then HealthConn:Disconnect() HealthConn = nil end

    Target = p

    if p then

        SavedTargetName = p.Name

        CharConn = p.CharacterAdded:Connect(onChar)

        if p.Character then onChar(p.Character) end

    end

end

local function killTarget(char)

    local root = LP.Character and LP.Character:FindFirstChild("HumanoidRootPart")

    if root and char then

        WS.FallenPartsDestroyHeight = 0/0

        local oldPos = root.CFrame

        getTool()

        safeInvoke(char)

        root.CFrame = KillPos

        task.wait(0.3)

        safeInvoke(char)

        root.CFrame = oldPos

    end

end

local KillCharConn = nil

local function startKillLoop()

    if KillCharConn then KillCharConn:Disconnect() KillCharConn = nil end

    if not Target then return end

    if Target.Character then killTarget(Target.Character) end

    KillCharConn = Target.CharacterAdded:Connect(function(newChar)

        task.wait(0.5)

        if KillLoop then

            local hum = newChar:WaitForChild("Humanoid")

            if hum.Health >= hum.MaxHealth then

                killTarget(newChar)

            else

                local temp

                temp = hum.HealthChanged:Connect(function(h)

                    if KillLoop and h >= hum.MaxHealth then

                        killTarget(newChar)

                        if temp then temp:Disconnect() temp = nil end

                    end

                end)

            end

        end

    end)

end

local function toggleGui()

    GuiVisible = not GuiVisible

    Frame.Visible = GuiVisible

end

local function doAntiBangTeleport()

    if TP_Lock or TP_Cooldown then return end

    TP_Lock = true

    TP_Cooldown = true

    local root = LP.Character and LP.Character:FindFirstChild("HumanoidRootPart")

    if not root then

        TP_Lock = false

        TP_Cooldown = false

        return

    end

    local old = root.CFrame

    root.CFrame = old * CFrame.new(0, -999, 0)

    task.wait(0.7)

    if root and root.Parent then

        root.CFrame = old

    end

    task.delay(1.3, function()

        TP_Cooldown = false

    end)

    TP_Lock = false

end

local TouchedConn = nil

local function connectAntiBangTouch()

    if TouchedConn then TouchedConn:Disconnect() TouchedConn = nil end

    local myRoot = LP.Character and LP.Character:FindFirstChild("HumanoidRootPart")

    if not myRoot then return end

    TouchedConn = myRoot.Touched:Connect(function(hit)

        if not AntiBang then return end

        if TP_Lock or TP_Cooldown then return end

        local char = hit:FindFirstAncestorWhichIsA("Model")

        if not char then return end

        local p = Players:GetPlayerFromCharacter(char)

        if p and p ~= LP then

            doAntiBangTeleport()

        end

    end)

end

local function connectAntiBangProximityLoop()

    task.spawn(function()

        while true do

            task.wait(0.12)

            if AntiBang and not TP_Lock and not TP_Cooldown then

                local myRoot = LP.Character and LP.Character:FindFirstChild("HumanoidRootPart")

                if myRoot then

                    for _, plr in ipairs(Players:GetPlayers()) do

                        if plr ~= LP and plr.Character then

                            local otherRoot = plr.Character:FindFirstChild("HumanoidRootPart")

                            if otherRoot then

                                if (myRoot.Position - otherRoot.Position).Magnitude <= 2.2 then

                                    doAntiBangTeleport()

                                    break

                                end

                            end

                        end

                    end

                end

            end

        end

    end)

end

Players.PlayerAdded:Connect(function(p)

    if SavedTargetName and p.Name:lower() == SavedTargetName:lower() then

        setTarget(p)

        Box.Text = p.Name

        if SavedAuto then

            Auto = true

            AutoBtn.Text = "سحب تلقائي: تشغيل"

            if p.Character then task.delay(0.2, function() onChar(p.Character) end) end

        end

        if SavedKill then

            KillLoop = true

            KillBtn.Text = "قتل تلقائي: تشغيل"

            startKillLoop()

        end

    end

end)

Players.PlayerRemoving:Connect(function(p)

    if p == Target then

        Target = nil

        if CharConn then CharConn:Disconnect() CharConn = nil end

        if HealthConn then HealthConn:Disconnect() HealthConn = nil end

    end

end)

Box.FocusLost:Connect(function()

    local found = findPlayer(Box.Text)

    if found then

        setTarget(found)

        SavedTargetName = found.Name

    else

        SavedTargetName = (Box.Text ~= "" and Box.Text) or nil

        Target = nil

    end

end)

AutoBtn.MouseButton1Click:Connect(function()

    Auto = not Auto

    SavedAuto = Auto

    AutoBtn.Text = "سحب تلقائي: " .. (Auto and "تشغيل" or "إيقاف")

    if Auto and Target and Target.Character then

        task.delay(0.1, function() onChar(Target.Character) end)

    end

end)

KillBtn.MouseButton1Click:Connect(function()

    KillLoop = not KillLoop

    SavedKill = KillLoop

    KillBtn.Text = "قتل تلقائي: " .. (KillLoop and "تشغيل" or "إيقاف")

    if KillLoop then

        startKillLoop()

    else

        if KillCharConn then KillCharConn:Disconnect() KillCharConn = nil end

    end

end)

AntiBangBtn.MouseButton1Click:Connect(function()

    AntiBang = not AntiBang

    AntiBangBtn.Text = "مضاد بانغ: " .. (AntiBang and "تشغيل" or "إيقاف")

end)

SmallBtn.MouseButton1Click:Connect(toggleGui)

UIS.InputBegan:Connect(function(input, gp)

    if not gp and input.UserInputType == Enum.UserInputType.Keyboard and input.KeyCode == Enum.KeyCode.Z then

        toggleGui()

    end

end)

local function createTargetTool()

    local old = LP.Backpack:FindFirstChild("Target Selector")

    if old then old:Destroy() end

    local tool = Instance.new("Tool")

    tool.Name = "Target Selector"

    tool.RequiresHandle = false

    tool.CanBeDropped = false

    tool.Parent = LP:WaitForChild("Backpack")

    local mouse = LP:GetMouse()

    local clickConn

    tool.Equipped:Connect(function()

        if Auto or KillLoop then

            task.wait(0.1)

            LP.Character:WaitForChild("Humanoid"):UnequipTools()

            return

        end

        clickConn = mouse.Button1Down:Connect(function()

            local part = mouse.Target

            if not part then return end

            local char = part:FindFirstAncestorWhichIsA("Model")

            if not char then return end

            local plr = Players:GetPlayerFromCharacter(char)

            if not plr then return end

            Box.Text = plr.Name

            setTarget(plr)

            SavedTargetName = plr.Name

            SavedAuto = Auto

            SavedKill = KillLoop

            if Auto and plr.Character then task.delay(0.1, function() onChar(plr.Character) end) end

            if KillLoop then task.delay(0.1, startKillLoop) end

        end)

    end)

    tool.Unequipped:Connect(function()

        if clickConn then clickConn:Disconnect() clickConn = nil end

    end)

end

if LP.Character then

    task.wait(0.5)

    createTargetTool()

    connectAntiBangTouch()

    connectAntiBangProximityLoop()

end

LP.CharacterAdded:Connect(function()

    task.wait(0.5)

    createTargetTool()

    connectAntiBangTouch()

end)



-- Char gui Simple



local Players = game:GetService("Players")

local ReplicatedStorage = game:GetService("ReplicatedStorage")

local player = Players.LocalPlayer

local screenGui = Instance.new("ScreenGui")

screenGui.Name = "CharMeGUI"

screenGui.ResetOnSpawn = false

screenGui.Parent = player:WaitForChild("PlayerGui")

local textBox = Instance.new("TextBox")

textBox.Name = "CommandBox"

textBox.Parent = screenGui

textBox.Size = UDim2.new(0, 180, 0, 35)

textBox.Position = UDim2.new(0, 20, 0, 40)

textBox.BackgroundColor3 = Color3.fromRGB(30, 30, 30)

textBox.TextColor3 = Color3.fromRGB(255, 255, 255)

textBox.PlaceholderText = "سكن"

textBox.Text = ""

textBox.Font = Enum.Font.SourceSansBold

textBox.TextSize = 20

textBox.ClearTextOnFocus = false

textBox.BorderSizePixel = 0

textBox.BackgroundTransparency = 0.2

Instance.new("UICorner", textBox).CornerRadius = UDim.new(0, 10)

local effectsButton = Instance.new("TextButton")

effectsButton.Name = "EffectsButton"

effectsButton.Parent = screenGui

effectsButton.Size = UDim2.new(0, 180, 0, 35)

effectsButton.Position = UDim2.new(0, 20, 0, 80)

effectsButton.BackgroundColor3 = Color3.fromRGB(45, 45, 45)

effectsButton.TextColor3 = Color3.fromRGB(255, 255, 255)

effectsButton.Text = "Effects"

effectsButton.Font = Enum.Font.SourceSansBold

effectsButton.TextSize = 20

Instance.new("UICorner", effectsButton).CornerRadius = UDim.new(0, 10)

local uncharButton = Instance.new("TextButton")

uncharButton.Name = "UncharButton"

uncharButton.Parent = screenGui

uncharButton.Size = UDim2.new(0, 180, 0, 35)

uncharButton.Position = UDim2.new(0, 20, 0, 120)

uncharButton.BackgroundColor3 = Color3.fromRGB(45, 45, 45)

uncharButton.TextColor3 = Color3.fromRGB(255, 255, 255)

uncharButton.Text = "Unchar"

uncharButton.Font = Enum.Font.SourceSansBold

uncharButton.TextSize = 20

Instance.new("UICorner", uncharButton).CornerRadius = UDim.new(0, 10)

local toggleGui = Instance.new("ScreenGui")

toggleGui.Name = "CharMeToggleGUI"

toggleGui.ResetOnSpawn = false

toggleGui.Parent = player:WaitForChild("PlayerGui")

local toggleButton = Instance.new("TextButton")

toggleButton.Name = "ToggleButton"

toggleButton.Parent = toggleGui

toggleButton.Size = UDim2.new(0, 35, 0, 35)

toggleButton.Position = UDim2.new(0, 20, 0, 20)

toggleButton.BackgroundColor3 = Color3.fromRGB(45, 45, 45)

toggleButton.Text = "-"

toggleButton.TextScaled = true

toggleButton.TextColor3 = Color3.fromRGB(255, 255, 255)

toggleButton.Font = Enum.Font.SourceSansBold

toggleButton.AutoButtonColor = true

toggleButton.Active = true

toggleButton.Draggable = true

Instance.new("UICorner", toggleButton).CornerRadius = UDim.new(0, 10)

local guiVisible = true

toggleButton.MouseButton1Click:Connect(function()

	guiVisible = not guiVisible	screenGui.Enabled = guiVisible

end)

textBox.FocusLost:Connect(function(enterPressed)

	if enterPressed then

		local typedText = textBox.Text

		if typedText ~= "" then

			local args = {

				[1] = ";char me " .. typedText

			}

			ReplicatedStorage:WaitForChild("HDAdminHDClient").Signals.RequestCommandSilent:InvokeServer(unpack(args))

		end

	end

end)

effectsButton.MouseButton1Click:Connect(function()

	local args = { [1] = ";hat me 215718515" }

	ReplicatedStorage.HDAdminHDClient.Signals.RequestCommandSilent:InvokeServer(unpack(args))

	wait(0.8)

	args = { [1] = ";hat me 173624602" }

	ReplicatedStorage.HDAdminHDClient.Signals.RequestCommandSilent:InvokeServer(unpack(args))

	wait(1)

	args = { [1] = ";hat me 183468963" }

	ReplicatedStorage.HDAdminHDClient.Signals.RequestCommandSilent:InvokeServer(unpack(args))

	wait(0.9)

	args = { [1] = ";hat me 192557913" }

	ReplicatedStorage.HDAdminHDClient.Signals.RequestCommandSilent:InvokeServer(unpack(args))

	wait(1)

	args = { [1] = ";hat me 128217885" }

	ReplicatedStorage.HDAdminHDClient.Signals.RequestCommandSilent:InvokeServer(unpack(args))

	wait(0.8)

	args = { [1] = ";hat me 132809431" }

	ReplicatedStorage.HDAdminHDClient.Signals.RequestCommandSilent:InvokeServer(unpack(args))

end)

uncharButton.MouseButton1Click:Connect(function()

	local args = { [1] = ";unchar" }

	ReplicatedStorage.HDAdminHDClient.Signals.RequestCommandSilent:InvokeServer(unpack(args))

end)
